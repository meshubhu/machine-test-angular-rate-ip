<div class="row">
  <div class="col-12">
    <div *ngIf="!isLoading && !isError">
    <h5 class="mb-3">Search Exchange rate of your currency with IP address</h5>

      <form class="example-form" [formGroup]="profileForm" *ngIf="!isLoading">
        <div class="row">
        <div class="col-md-6">
          <mat-form-field class="example-full-width w-100 pb-0">
            <mat-label>Enter Your IP Address</mat-label>
            <input
              mask="IP"
              matInput placeholder="8.8.8.8"
              formControlName="ip"
              [showMaskTyped]="false"
              [dropSpecialCharacters]="false"
              [validation]="true">
          </mat-form-field>
          <div *ngIf="profileForm.controls['ip'].invalid && (profileForm.controls['ip'].dirty || profileForm.controls['ip'].touched)" class="mb-3">
            <span class="text-danger small d-flex align-items-center" *ngIf="profileForm.controls['ip'].errors.required">
              <mat-icon aria-hidden="false" class="text-danger" aria-label="Example my location icon">error</mat-icon>
              <span class="d-inline-block ms-2">IP address is required</span>
            </span>
            <span class="text-danger small d-flex align-items-center" *ngIf="profileForm.controls['ip'].errors.pattern">
              <mat-icon aria-hidden="false" class="text-danger" aria-label="Example my location icon">error</mat-icon>
              <span class="d-inline-block ms-2">IP address is invalid</span>
            </span>
          </div>
        </div>

        <div class="col-md-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Choose a date</mat-label>
            <input [min]="minDate" readonly matInput [matDatepicker]="picker" formControlName="date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker touchUi #picker></mat-datepicker>
          </mat-form-field>
          
          <div *ngIf="profileForm.controls['date'].invalid && (profileForm.controls['date'].dirty || profileForm.controls['date'].touched)" class="mb-3">
            <span class="text-danger small d-flex align-items-center" *ngIf="profileForm.controls['date'].errors.required">
              <mat-icon aria-hidden="false" class="text-danger" aria-label="Example my location icon">error</mat-icon>
              <span class="d-inline-block ms-2">Date is required</span>
            </span>
          </div>
        </div>
      </div>
        <button type="button" [disabled]="!profileForm.valid || isLoading" (click)="search()" mat-raised-button color="primary">Search</button>
      </form>

      </div>
      <div *ngIf="isLoading" class="text-center">
        <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
        <h5 class="mt-3">Please wait, we are searching for you</h5>
      </div>

      <div *ngIf="isError" class="text-center">
        <h6 class="mb-3">{{errMsg}}</h6>
        <button type="button" (click)="back()" mat-raised-button color="accent">Back</button>
      </div>

    </div>
  </div>